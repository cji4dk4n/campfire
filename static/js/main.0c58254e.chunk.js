(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){"use strict";a.r(t);var n=a(11),c=function(e){return e.keys().filter(function(e){return"./index.js"!==e}).reduce(function(t,a){return Object(n.a)({},t,e(a))},{})}(a(50));t.default=c},3:function(e,t,a){"use strict";a.d(t,"c",function(){return n}),a.d(t,"a",function(){return c}),a.d(t,"b",function(){return r});var n="loading",c="fetch_products",r="fetch_search_products"},37:function(e,t,a){e.exports=a.p+"static/media/product-loading.1b79d57f.gif"},40:function(e,t,a){e.exports=a.p+"static/media/search-icon.5a399b1d.gif"},41:function(e,t,a){e.exports=a(83)},50:function(e,t,a){var n={"./index.js":10,"./loadingAction.js":51,"./productActions.js":84,"./searchActions.js":71};function c(e){var t=r(e);return a(t)}function r(e){var t=n[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}c.keys=function(){return Object.keys(n)},c.resolve=r,e.exports=c,c.id=50},51:function(e,t,a){"use strict";a.r(t),a.d(t,"loadingAction",function(){return c});var n=a(3),c=function(e){return function(t){t({type:n.c,payload:e})}}},71:function(e,t,a){"use strict";a.r(t),a.d(t,"fetchSearchProducts",function(){return r});var n=a(3),c="",r=function(e){return function(t){clearTimeout(c),c=setTimeout(function(){t({type:n.b,payload:e}),t({type:n.c,payload:!1})},1e3)}}},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(34),i=a.n(r),o=a(5),s=a(12),l=a(36),u=a(6),m=Object(u.a)(),d=a(37),p=a.n(d),f=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("img",{style:{width:"100%",height:"90%",margin:"10px 0"},alt:"",src:p.a}))},v=a(10),h=a(3),E=(a(72),Object(o.b)(function(e){return{products:Object.values(e.products),search:e.search,loading:e.loading.loading}},v.default)(function(e){var t=Object(n.useRef)(null),a=Object(n.useRef)(null),r=e.products,i=e.search,o=e.loading,s=i.keyWord&&"/shop/search"===e.match.path,l=s?i.searchProduct.length:r.length,u=0===l;Object(n.useEffect)(function(){e.fetchProducts().then(function(e){e.dispatch({type:h.c,payload:!1}),e.dispatch({type:h.a,payload:e.resData.data})})},[]);return c.a.createElement("div",{className:"list-align"},c.a.createElement("div",{className:"list-results"},o?"Now Search...":o||u?!o&&u?"Sorry! No product found!":void 0:"Showing ".concat(l," results")),function(){for(var e=[],a=0;a<6;a++)e.push(c.a.createElement("div",{className:"loading-shower",key:a+"loading"},c.a.createElement(f,null)));return o||null===t.current||(t.current.style.opacity=0),o&&null!==t.current&&(t.current.style.opacity=1),c.a.createElement("div",{className:"loading-container",ref:t},e)}(),function(){var e=s?i.searchProduct:r;return o||null===a.current||(a.current.style.opacity=1),o&&null!==a.current&&(a.current.style.opacity=0),c.a.createElement("div",{className:"list-container",ref:a},e.map(function(e){return c.a.createElement("div",{className:"product-shower",key:e.id,onClick:function(){return m.push("/detail/".concat(e.id))}},c.a.createElement("div",{className:"plus"},"\uff0b"),c.a.createElement("div",{className:"list-img-container"},c.a.createElement("img",{className:"list-img1",alt:"",src:e.review.imgSrc[0]})),c.a.createElement("div",{className:"list-img-container"},c.a.createElement("img",{className:"list-img2",alt:"",src:e.review.imgSrc[1]})),c.a.createElement("div",{className:"list-review"},c.a.createElement("div",{className:"list-name"},e.title),c.a.createElement("div",{className:"list-price"},e.price)),c.a.createElement("div",{className:"list-add-cart"},"Add to cart"))}))}())})),g=a(20);function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function b(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var y=c.a.createElement("path",{d:"M12 .587l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z"}),w=function(e){var t=e.svgRef,a=b(e,["svgRef"]);return c.a.createElement("svg",N({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),y)},O=c.a.forwardRef(function(e,t){return c.a.createElement(w,N({svgRef:t},e))}),j=(a.p,a(73),Object(o.b)(function(e,t){return{product:e.products[t.match.params.id]}},v.default)(function(e){var t=Object(n.useState)(0),a=Object(g.a)(t,2),r=a[0],i=a[1],o=function(){i(r+1)},s=function(){r>0&&i(r-1)};return e.product?c.a.createElement("div",null,function(){var t=e.product,a=t.title,n=t.description,i=t.price,l=t.review;return c.a.createElement("div",{className:"mycontainer"},c.a.createElement("div",{className:"describe"},c.a.createElement("h4",{className:"title"},a),c.a.createElement("p",{className:"text"},n),c.a.createElement("div",{className:"starposition"},function(){for(var t=e.product.review.star,a=[],n=0;n<t;n++)a.push(c.a.createElement("div",{className:"starSvg-container"},c.a.createElement(O,{className:"starSvg",alt:"starSvg"})));return a}())),c.a.createElement("div",{className:"imgposition"},c.a.createElement("img",{alt:"",src:l.imgSrc[1],className:"img"})),c.a.createElement("div",{className:"price"},i,c.a.createElement("form",{className:"cart-form"},c.a.createElement("div",{className:"cartbutton"},c.a.createElement("div",{className:"count"},r),c.a.createElement("div",{className:"inc-dec"},c.a.createElement("div",{className:"cartbutton-up",onClick:o},"+"),c.a.createElement("div",{className:"cartbutton-down",onClick:s},"-"))),c.a.createElement("div",{className:"addcartbutton"},c.a.createElement("p",null,"Add to cart")))))}(),function(){for(var t=e.product.review,a=t.title,n=t.slogan,r=t.comment,i=t.imgSrc,o=[],s=0;s<a.length;s++){var l=c.a.createElement("div",{className:2===s?"img-content2":"img-content"},c.a.createElement("img",{alt:"",src:i[s],className:2===s?"img_size2":"img_size"})),u=s%2===0?l:c.a.createElement(c.a.Fragment,null),m=s%2===1?l:c.a.createElement(c.a.Fragment,null);o.push(c.a.createElement("div",{className:"mycontainer2",key:s},u,c.a.createElement("div",{className:2===s?"review-content2":"review-content"},c.a.createElement("div",{className:"review-title"},a[s]),c.a.createElement("div",{className:"review-slogan"},n[s]),c.a.createElement("div",{className:"review-comment"},r[s])),m))}return o}()):c.a.createElement("div",{className:"productDetailLoading"},c.a.createElement("div",{className:"productDetailLoadingText"},"Loading..."))})),S=(a(74),Object(o.b)(function(e){return{products:Object.values(e.products)}})(function(e){return c.a.createElement("div",{className:"main"},e.products.map(function(e){return c.a.createElement("div",{key:e.id,className:"cd-fixed-bg",style:{backgroundImage:"url(".concat(e.imgSrc.srca,")")}},c.a.createElement("div",{className:"indexImgBox"},c.a.createElement("img",{className:"img-size",alt:"",src:e.imgSrc.srcb,onClick:function(){return m.push("/shop/".concat(e.id))}})))}))})),x=a(17),k=a(19),P=a.n(k),D=a(40),_=a.n(D),C=(a(76),Object(o.b)(function(e){return{products:Object.values(e.products)}},v.default)(function(e){var t=Object(n.useState)(""),a=Object(g.a)(t,2),r=a[0],i=a[1];Object(n.useEffect)(function(){s(e.products,r)},[r]);var o=function(t){t.preventDefault(),s(e.products,r),m.push("/shop/search")},s=function(t,a){if(e.loadingAction(!0),""!==a&&/[a-zA-Z]/.test(a)){var n=new RegExp(a,"i"),c=t.map(function(e){var t=Object.values(e);return n.test(t)?e:null}),r={finalData:P.a.filter(c,null),keyWord:a};e.fetchSearchProducts(r),m.push("/shop/search")}else e.fetchSearchProducts({finalData:[],keyWord:""})};return c.a.createElement("form",{onSubmit:o},c.a.createElement("input",{className:"searchBar-input",type:"text",placeholder:"Search...",onChange:function(e){i(e.target.value)}}),c.a.createElement("div",{className:"search-icon-container"},c.a.createElement("img",{className:"search-icon",alt:"",src:_.a,onClick:o})))})),R=(a(77),Object(o.b)(function(e){return{products:Object.values(e.products)}})(function(e){return c.a.createElement("div",{className:"main-header"},c.a.createElement("div",{className:"header-logo"},c.a.createElement(x.a,{to:"/",className:"blockSize"},c.a.createElement("img",{alt:"",src:"https://campfireaudio.com/wp-content/uploads/2016/05/cropped-admin-ajax.png",className:"logo"}))),c.a.createElement("div",{className:"header-item"},c.a.createElement(x.a,{to:"/shop",className:"productHref"},"Shop"),e.products.map(function(e){return c.a.createElement(x.a,{to:"/detail/".concat(e.id),className:"productHref",key:e.id},e.title)})),c.a.createElement("div",{className:"header-searhBar"},c.a.createElement(C,null)))})),T=(a(81),function(){return c.a.createElement("div",{className:"footer-main-container"},c.a.createElement("div",{className:"footer-container"},c.a.createElement("div",{className:"footer-item-container"},c.a.createElement("img",{alt:"",className:"footer-item",src:"https://cdn-images-1.medium.com/max/1200/1*i3hzpSEiEEMTuWIYviYweQ.png"})),c.a.createElement("div",{className:"footer-item-container"},c.a.createElement("img",{alt:"",className:"footer-item",src:"https://miro.medium.com/max/3557/1*amMgEUix0DSEG-Hojy27Yw.jpeg"})),c.a.createElement("div",{className:"footer-item-container"},c.a.createElement("img",{alt:"",className:"footer-item",src:"https://cdn-images-1.medium.com/max/2600/1*eQLe7T33KNr82vcT378oPQ.jpeg"})),c.a.createElement("div",{className:"footer-item-container"},c.a.createElement("img",{alt:"",className:"footer-item",src:"https://fuzati.com/wp-content/uploads/2016/12/CSS-Logo.png"})),c.a.createElement("div",{className:"footer-item-container"},c.a.createElement("img",{alt:"",className:"footer-item",src:"https://catalin.red/dist/uploads/2011/01/css3-html5-logo-initial.png"})),c.a.createElement("div",{className:"footer-item-container"},c.a.createElement("img",{alt:"",className:"footer-item",src:"http://www.devacron.com/wp-content/uploads/2016/02/ES6-ecmascript6-logo.jpg"}))),c.a.createElement("div",{className:"footer-name-container"},c.a.createElement("h3",null," 2019. Yu Chen, Ho Present")))}),z=a(2),A=(a(82),Object(o.b)(null,v.default)(function(e){return Object(n.useEffect)(function(){e.fetchProducts().then(function(e){e.dispatch({type:h.c,payload:!1}),e.dispatch({type:h.a,payload:e.resData.data})})},[]),c.a.createElement(z.b,{history:m},c.a.createElement(R,null),c.a.createElement("div",{className:"mainBody"},c.a.createElement(z.c,null,c.a.createElement(z.a,{path:"/",exact:!0,component:S}),c.a.createElement(z.a,{path:"/shop",exact:!0,component:E}),c.a.createElement(z.a,{path:"/shop/search",exact:!0,component:E}),c.a.createElement(z.a,{path:"/detail/:id",exact:!0,component:j}))),c.a.createElement(T,null))})),L=a(11),W={searchProduct:[],keyWord:""},B={loading:!1},I=Object(s.c)({loading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.c:return Object(L.a)({},e,{loading:t.payload});default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.a:return Object(L.a)({},e,P.a.mapKeys(t.payload,"id"));default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.b:return Object(L.a)({},e,{searchProduct:t.payload.finalData,keyWord:t.payload.keyWord});default:return e}}}),M=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,U=Object(s.e)(I,M(Object(s.a)(l.a)));U.subscribe(function(){return window.store=U.getState()}),i.a.render(c.a.createElement(o.a,{store:U},c.a.createElement(A,null)),document.querySelector("#root"))},84:function(e,t,a){"use strict";a.r(t);var n=a(25),c=a.n(n),r=a(38),i=a(3),o=a(39),s=a.n(o).a.create({baseURL:"http://localhost:3001"});a.d(t,"fetchProducts",function(){return l});var l=function(){return function(){var e=Object(r.a)(c.a.mark(function e(t){var a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:i.c,payload:!0}),e.next=3,s.get("/products").catch(function(e){return"server is down"});case 3:return a=e.sent,e.abrupt("return",{resData:a,dispatch:t});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}}},[[41,1,2]]]);
//# sourceMappingURL=main.0c58254e.chunk.js.map